# ëƒ ëƒ ìœ„ë“€ ğŸ½ï¸

íŒêµ ì´ë…¸ë°¸ë¦¬ êµ¬ë‚´ì‹ë‹¹ ì£¼ê°„ ì‹ë‹¨í‘œë¥¼ ì¹´ì¹´ì˜¤ ì±„ë„ì—ì„œ í¬ë¡¤ë§í•˜ì—¬ Slackìœ¼ë¡œ ìë™ ë°œì†¡í•˜ëŠ” ë´‡

## ëª©ì°¨

- [ê¸°ëŠ¥](#ê¸°ëŠ¥)
- [ì•„í‚¤í…ì²˜](#ì•„í‚¤í…ì²˜)
- [ê¸°ìˆ  ìŠ¤íƒ](#ê¸°ìˆ -ìŠ¤íƒ)
- [ì„¤ì¹˜](#ì„¤ì¹˜)
- [í™˜ê²½ë³€ìˆ˜](#í™˜ê²½ë³€ìˆ˜)
- [Slack App ì„¤ì •](#slack-app-ì„¤ì •)
- [ì‹¤í–‰](#ì‹¤í–‰)
- [API](#api)
- [ë°ì´í„° íë¦„](#ë°ì´í„°-íë¦„)
- [í”„ë¡œì íŠ¸ êµ¬ì¡°](#í”„ë¡œì íŠ¸-êµ¬ì¡°)
- [ê°œë°œ](#ê°œë°œ)

---

## ê¸°ëŠ¥

### ìë™ ë°œì†¡
- ë§¤ì£¼ ì›”ìš”ì¼ ì˜¤ì „ 9ì‹œ(KST)ì— ì¹´ì¹´ì˜¤ ì±„ë„ì—ì„œ ìƒˆ ì‹ë‹¨í‘œ í¬ë¡¤ë§
- ìƒˆ ì‹ë‹¨í‘œ ë°œê²¬ ì‹œ ì§€ì •ëœ Slack ì±„ë„ë¡œ ìë™ ë°œì†¡
- ë°œì†¡ ì‹¤íŒ¨ ì‹œ ìµœëŒ€ 6íšŒê¹Œì§€ 1ì‹œê°„ ê°„ê²©ìœ¼ë¡œ ì¬ì‹œë„

### ìŠ¬ë˜ì‹œ ì»¤ë§¨ë“œ
- `/ì‹ë‹¨` ì…ë ¥ ì‹œ ì´ë²ˆ ì£¼ ì‹ë‹¨í‘œ ì¦‰ì‹œ ì¡°íšŒ
- ìºì‹œëœ ë°ì´í„° ìš°ì„  ë°˜í™˜, ì—†ìœ¼ë©´ ì‹¤ì‹œê°„ í¬ë¡¤ë§

### ì¤‘ë³µ ë°©ì§€
- `DeliveryHistory` í…Œì´ë¸”ë¡œ ì±„ë„ë³„ ë°œì†¡ ì´ë ¥ ê´€ë¦¬
- ë™ì¼ ì‹ë‹¨í‘œë¥¼ ê°™ì€ ì±„ë„ì— ì¤‘ë³µ ë°œì†¡í•˜ì§€ ì•ŠìŒ

---

## ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Interface Layer                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ HTTP Routes â”‚  â”‚ Slack Cmds  â”‚  â”‚     Cron Scheduler      â”‚  â”‚
â”‚  â”‚  /health    â”‚  â”‚   /ì‹ë‹¨     â”‚  â”‚  ë§¤ì£¼ ì›” 09:00 KST      â”‚  â”‚
â”‚  â”‚  /api/menu  â”‚  â”‚             â”‚  â”‚                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                â”‚                      â”‚
          â–¼                â–¼                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Application Layer                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ GetCurrentMenu  â”‚  â”‚ CrawlWeeklyMenu â”‚  â”‚ CheckAndSendMenuâ”‚  â”‚
â”‚  â”‚    UseCase      â”‚  â”‚    UseCase      â”‚  â”‚    UseCase      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                    â”‚                    â”‚
            â–¼                    â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Infrastructure Layer                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Playwright â”‚  â”‚  Slack Bot  â”‚  â”‚    Prisma Repository    â”‚  â”‚
â”‚  â”‚  Crawler    â”‚  â”‚  Service    â”‚  â”‚  (SQLite)               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                    â”‚                    â”‚
            â–¼                    â–¼                    â–¼
     [ì¹´ì¹´ì˜¤ ì±„ë„]         [Slack API]          [SQLite DB]
```

---

## ê¸°ìˆ  ìŠ¤íƒ

| ë¶„ë¥˜ | ê¸°ìˆ  | ìš©ë„ |
|------|------|------|
| Runtime | Node.js 20 | ì„œë²„ ëŸ°íƒ€ì„ |
| Language | TypeScript 5 | íƒ€ì… ì•ˆì •ì„± |
| í¬ë¡¤ë§ | Playwright | ì¹´ì¹´ì˜¤ ì±„ë„ í¬ë¡¤ë§ (headless Chrome) |
| Slack | @slack/bolt | Socket Mode ê¸°ë°˜ ë´‡ |
| ORM | Prisma | SQLite ë°ì´í„°ë² ì´ìŠ¤ |
| DI | TSyringe | ì˜ì¡´ì„± ì£¼ì… ì»¨í…Œì´ë„ˆ |
| ìŠ¤ì¼€ì¤„ë§ | node-cron | ì£¼ê°„ ìë™ ë°œì†¡ |
| ì»¨í…Œì´ë„ˆ | Docker | ë°°í¬ í™˜ê²½ |

---

## ì„¤ì¹˜

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­

- Node.js 20 ì´ìƒ
- Docker & Docker Compose (ë°°í¬ ì‹œ)
- Slack App (Bot Token, Signing Secret, App Token)

### ë¡œì»¬ ê°œë°œ í™˜ê²½

```bash
# 1. ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/kilhyeonjun/innovalley-menu-bot.git
cd innovalley-menu-bot

# 2. ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# 3. Playwright ë¸Œë¼ìš°ì € ì„¤ì¹˜ (í¬ë¡¤ë§ìš©)
npx playwright install chromium

# 4. í™˜ê²½ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ì„ ì—´ì–´ Slack í† í° ë“± ì…ë ¥

# 5. Prisma í´ë¼ì´ì–¸íŠ¸ ìƒì„±
npm run prisma:generate

# 6. ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
npm run prisma:migrate

# 7. ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev
```

---

## í™˜ê²½ë³€ìˆ˜

`.env` íŒŒì¼ì— ë‹¤ìŒ ê°’ë“¤ì„ ì„¤ì •í•©ë‹ˆë‹¤:

```bash
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Database
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
DATABASE_URL="file:./data/menu.db"

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Slack Bot (í•„ìˆ˜)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Bot User OAuth Token (xoxb-ë¡œ ì‹œì‘)
# Slack App > OAuth & Permissions > Bot User OAuth Token
SLACK_BOT_TOKEN=xoxb-your-bot-token

# Signing Secret
# Slack App > Basic Information > Signing Secret
SLACK_SIGNING_SECRET=your-signing-secret

# App-Level Token (xapp-ë¡œ ì‹œì‘, Socket Modeìš©)
# Slack App > Basic Information > App-Level Tokens
SLACK_APP_TOKEN=xapp-your-app-token

# ì‹ë‹¨í‘œë¥¼ ë°œì†¡í•  Slack ì±„ë„ ID (Cë¡œ ì‹œì‘)
# ì±„ë„ ìš°í´ë¦­ > ì±„ë„ ì„¸ë¶€ì •ë³´ ë³´ê¸° > í•˜ë‹¨ì˜ ì±„ë„ ID
SLACK_CHANNEL_ID=C0123456789

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Kakao Channel (ì„ íƒ)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# í¬ë¡¤ë§ ëŒ€ìƒ ì¹´ì¹´ì˜¤ ì±„ë„ URL (ê¸°ë³¸ê°’ ì‚¬ìš© ê°€ëŠ¥)
KAKAO_CHANNEL_URL=https://pf.kakao.com/_LCxlxlxb/posts

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Server
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
PORT=3000
NODE_ENV=development  # production | development
```

---

## Slack App ì„¤ì •

### 1. ì•± ìƒì„±

1. [Slack API](https://api.slack.com/apps) ì ‘ì†
2. **Create New App** > **From scratch**
3. App Name: `ëƒ ëƒ ìœ„ë“€` (ë˜ëŠ” ì›í•˜ëŠ” ì´ë¦„)
4. Workspace ì„ íƒ í›„ ìƒì„±

### 2. Bot Token Scopes ì„¤ì •

**OAuth & Permissions** ë©”ë‰´ì—ì„œ Bot Token Scopes ì¶”ê°€:

| Scope | ìš©ë„ |
|-------|------|
| `chat:write` | ë©”ì‹œì§€ ë°œì†¡ |
| `commands` | ìŠ¬ë˜ì‹œ ì»¤ë§¨ë“œ |

### 3. Socket Mode í™œì„±í™”

1. **Socket Mode** ë©”ë‰´ > Enable Socket Mode **ON**
2. App-Level Token ìƒì„± (ì´ë¦„: `socket-mode`)
3. Scope: `connections:write` ì„ íƒ
4. ìƒì„±ëœ `xapp-` í† í°ì„ `SLACK_APP_TOKEN`ì— ì„¤ì •

### 4. ìŠ¬ë˜ì‹œ ì»¤ë§¨ë“œ ë“±ë¡

**Slash Commands** ë©”ë‰´ì—ì„œ:

| í•­ëª© | ê°’ |
|------|-----|
| Command | `/ì‹ë‹¨` |
| Short Description | `ì´ë²ˆ ì£¼ ì‹ë‹¨í‘œ ì¡°íšŒ` |
| Usage Hint | (ë¹„ì›Œë‘ ) |

### 5. ì•± ì„¤ì¹˜

1. **Install App** ë©”ë‰´ > **Install to Workspace**
2. ê¶Œí•œ ìŠ¹ì¸
3. ìƒì„±ëœ `xoxb-` í† í°ì„ `SLACK_BOT_TOKEN`ì— ì„¤ì •

### 6. ì±„ë„ì— ë´‡ ì¶”ê°€

ì‹ë‹¨í‘œë¥¼ ë°›ì„ ì±„ë„ì—ì„œ:
```
/invite @ëƒ ëƒ ìœ„ë“€
```

---

## ì‹¤í–‰

### ë¡œì»¬ ê°œë°œ

```bash
npm run dev
```

### Docker ë°°í¬

```bash
# ë¹Œë“œ ë° ì‹¤í–‰
docker-compose up -d

# ë¡œê·¸ í™•ì¸
docker-compose logs -f menu-bot

# ì¤‘ì§€
docker-compose down
```

### ì‹¤í–‰ í™•ì¸

```bash
# í—¬ìŠ¤ì²´í¬
curl http://localhost:3001/health

# ì‘ë‹µ ì˜ˆì‹œ
{"status":"ok","timestamp":"2026-01-24T12:00:00.000Z","uptime":100}
```

---

## API

### GET /health

ì„œë²„ ìƒíƒœ í™•ì¸

**Response**
```json
{
  "status": "ok",
  "timestamp": "2026-01-24T12:00:00.000Z",
  "uptime": 3600.123
}
```

### GET /api/menu/latest

ìµœì‹  ì‹ë‹¨í‘œ ì¡°íšŒ (ì—†ìœ¼ë©´ í¬ë¡¤ë§ í›„ ë°˜í™˜)

**Success Response**
```json
{
  "success": true,
  "data": {
    "post": {
      "postId": "123456789",
      "title": "ì´ë…¸ë°¸ë¦¬ êµ¬ë‚´ì‹ë‹¹ ì£¼ê°„ë©”ë‰´[01/20-01/24]",
      "imageUrl": "https://k.kakaocdn.net/dn/.../menu.jpg",
      "publishedAt": "2026-01-20T00:00:00.000Z"
    },
    "source": "cache"  // "cache" | "crawled"
  }
}
```

**Error Response**
```json
{
  "success": false,
  "error": "í¬ë¡¤ë§ ì‹¤íŒ¨: í•„ìˆ˜ ë°ì´í„° ëˆ„ë½"
}
```

---

## ë°ì´í„° íë¦„

### ì´ë¯¸ì§€ ê´€ë¦¬

**ì´ë¯¸ì§€ë¥¼ ì§ì ‘ ì €ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.** ì¹´ì¹´ì˜¤ ì±„ë„ì˜ CDN URLë§Œ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•©ë‹ˆë‹¤.

```
[ì¹´ì¹´ì˜¤ ì±„ë„]                    [ì„œë²„ DB]                    [Slack]
     â”‚                              â”‚                           â”‚
     â”‚  í¬ë¡¤ë§                      â”‚                           â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                           â”‚
     â”‚  ì´ë¯¸ì§€ URL ì¶”ì¶œ              â”‚                           â”‚
     â”‚  (https://k.kakaocdn.net/...)â”‚                           â”‚
     â”‚                              â”‚                           â”‚
     â”‚                              â”‚  URL ì „ë‹¬                  â”‚
     â”‚                              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
     â”‚                              â”‚                           â”‚
     â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
     â”‚     Slackì´ URLë¡œ ì´ë¯¸ì§€ ë¡œë“œ  â”‚                           â”‚
```

- **ì¥ì **: ì €ì¥ ê³µê°„ ë¶ˆí•„ìš”, í•­ìƒ ì›ë³¸ í’ˆì§ˆ ìœ ì§€
- **ì£¼ì˜**: ì¹´ì¹´ì˜¤ê°€ ì›ë³¸ ì´ë¯¸ì§€ë¥¼ ì‚­ì œí•˜ë©´ í‘œì‹œ ë¶ˆê°€

### ìŠ¤ì¼€ì¤„ë§

`node-cron`ì„ ì‚¬ìš©í•˜ì—¬ ë§¤ì£¼ ì›”ìš”ì¼ ì˜¤ì „ 9ì‹œ(KST)ì— ìë™ ì‹¤í–‰:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ë¶„ (0)
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ì‹œ (9)
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€ ì¼ (*)
â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€ ì›” (*)
â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€ ìš”ì¼ (1 = ì›”ìš”ì¼)
â”‚ â”‚ â”‚ â”‚ â”‚
0 9 * * 1   Asia/Seoul
```

**ì‹¤í–‰ íë¦„:**
1. ì¹´ì¹´ì˜¤ ì±„ë„ì—ì„œ ìµœì‹  ì‹ë‹¨í‘œ í¬ë¡¤ë§
2. DBì—ì„œ ê¸°ì¡´ ë°œì†¡ ì´ë ¥ í™•ì¸
3. ìƒˆ ì‹ë‹¨í‘œì´ê³  ë¯¸ë°œì†¡ ìƒíƒœë©´ Slack ë°œì†¡
4. ë°œì†¡ ì´ë ¥ ì €ì¥ (ì¤‘ë³µ ë°©ì§€)
5. ì‹¤íŒ¨ ì‹œ 1ì‹œê°„ í›„ ì¬ì‹œë„ (ìµœëŒ€ 6íšŒ)

### ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      MenuPost       â”‚       â”‚   DeliveryHistory   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)             â”‚       â”‚ id (PK)             â”‚
â”‚ postId (UNIQUE)     â”‚â—€â”€â”€â”€â”€â”€â”€â”‚ postId (FK)         â”‚
â”‚ title               â”‚       â”‚ channel             â”‚
â”‚ imageUrl            â”‚       â”‚ sentAt              â”‚
â”‚ publishedAt         â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ crawledAt           â”‚       
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       UNIQUE(postId, channel)
```

---

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
src/
â”œâ”€â”€ domain/                    # ìˆœìˆ˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ (ì™¸ë¶€ ì˜ì¡´ì„± ì—†ìŒ)
â”‚   â”œâ”€â”€ entities/              # MenuPost, DeliveryHistory
â”‚   â”œâ”€â”€ repositories/          # Repository ì¸í„°í˜ì´ìŠ¤
â”‚   â”œâ”€â”€ services/              # Service ì¸í„°í˜ì´ìŠ¤
â”‚   â””â”€â”€ value-objects/         # PostId, ImageUrl (ë¶ˆë³€, ê²€ì¦ë¨)
â”‚
â”œâ”€â”€ application/               # UseCase ë ˆì´ì–´
â”‚   â””â”€â”€ use-cases/
â”‚       â”œâ”€â”€ CrawlWeeklyMenuUseCase.ts
â”‚       â”œâ”€â”€ SendMenuToSlackUseCase.ts
â”‚       â”œâ”€â”€ CheckAndSendMenuUseCase.ts
â”‚       â””â”€â”€ GetCurrentMenuUseCase.ts
â”‚
â”œâ”€â”€ infrastructure/            # ì™¸ë¶€ ì‹œìŠ¤í…œ êµ¬í˜„ì²´
â”‚   â”œâ”€â”€ crawling/              # PlaywrightCrawlerService
â”‚   â”œâ”€â”€ slack/                 # SlackBotService, SlackMessageBuilder
â”‚   â”œâ”€â”€ persistence/           # Prisma Repository êµ¬í˜„ì²´
â”‚   â””â”€â”€ scheduling/            # CronScheduler
â”‚
â”œâ”€â”€ interface/                 # ì§„ì…ì 
â”‚   â”œâ”€â”€ http/                  # Express ë¼ìš°í„°
â”‚   â””â”€â”€ slack/                 # ìŠ¬ë˜ì‹œ ì»¤ë§¨ë“œ í•¸ë“¤ëŸ¬
â”‚
â”œâ”€â”€ config/                    # ì„¤ì •
â”‚   â””â”€â”€ container.ts           # TSyringe DI ì»¨í…Œì´ë„ˆ
â”‚
â”œâ”€â”€ shared/                    # ê³µí†µ ëª¨ë“ˆ
â”‚   â”œâ”€â”€ types/                 # Result<T, E>
â”‚   â””â”€â”€ errors/                # DomainError, CrawlingError ë“±
â”‚
â”œâ”€â”€ app.ts                     # Express ì•± ì„¤ì •
â””â”€â”€ server.ts                  # ì„œë²„ ì—”íŠ¸ë¦¬í¬ì¸íŠ¸
```

---

## ê°œë°œ

### ìŠ¤í¬ë¦½íŠ¸

```bash
# ê°œë°œ ì„œë²„ (hot reload)
npm run dev

# TypeScript ë¹Œë“œ
npm run build

# í…ŒìŠ¤íŠ¸ (watch ëª¨ë“œ)
npm test

# í…ŒìŠ¤íŠ¸ (1íšŒ ì‹¤í–‰)
npm run test:run

# í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€
npm run test:coverage

# ë‹¨ì¼ í…ŒìŠ¤íŠ¸ íŒŒì¼ ì‹¤í–‰
npm test -- test/unit/domain/MenuPost.spec.ts

# ESLint
npm run lint

# Prisma Studio (DB GUI)
npm run prisma:studio
```

### í…ŒìŠ¤íŠ¸ êµ¬ì¡°

```
test/
â”œâ”€â”€ unit/                  # ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ (Mock ì‚¬ìš©)
â”‚   â”œâ”€â”€ domain/            # ì—”í‹°í‹°, ê°’ ê°ì²´
â”‚   â””â”€â”€ use-cases/         # UseCase
â”œâ”€â”€ integration/           # í†µí•© í…ŒìŠ¤íŠ¸ (ì‹¤ì œ DB)
â”‚   â””â”€â”€ repositories/      # Repository
â”œâ”€â”€ e2e/                   # E2E í…ŒìŠ¤íŠ¸
â””â”€â”€ fixtures/
    â””â”€â”€ builders/          # í…ŒìŠ¤íŠ¸ ë°ì´í„° ë¹Œë”
```

### ì½”ë“œ ìŠ¤íƒ€ì¼

- **Path Aliases**: `@domain/*`, `@application/*` ë“± ì‚¬ìš© í•„ìˆ˜
- **Error Handling**: `Result<T, E>` íŒ¨í„´ ì‚¬ìš© (ì˜ˆì™¸ ë˜ì§€ì§€ ì•ŠìŒ)
- **DI**: TSyringe ë°ì½”ë ˆì´í„°ë¡œ ì˜ì¡´ì„± ì£¼ì…
- **í…ŒìŠ¤íŠ¸**: Vitest + Builder íŒ¨í„´

ìì„¸í•œ ë‚´ìš©ì€ [AGENTS.md](./AGENTS.md) ì°¸ê³ 

---

## License

ISC
